<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Movie Collections</title>
    <meta name="keywords" content="movie, tv, radio" />
    <meta name="bookmark-image" content="../images/logo.png" />
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="../css/mytheme-font.css" type="text/css" />
    <link rel="stylesheet" href="../css/mytheme-ui.css" type="text/css" />
    <link rel="stylesheet" href="../css/mytheme-site.css" type="text/css" />
    <link rel="stylesheet" href="../css/mytheme-share.css" type="text/css" />
    <link rel="stylesheet" href="../css/mytheme-color.css" type="text/css" name="default" />

    <script type="text/javascript" src="../js/jquery.min.js"></script>

    <script type="text/javascript" src="../js/mytheme-site.js"></script>
    <script type="text/javascript" src="../js/mytheme-ui.js"></script>
    <script type="text/javascript" src="../js/mytheme-cms.js"></script>

    <link rel="stylesheet" href="../css/mystyle.css" type="text/css" />
    <script type="text/javascript" src="../js/myjavascript.js"></script>
   
</head>

<body>
  <header class="myui-header__top clearfix" id="header-top">
    <div class="container" style="margin-bottom: 4px;">
        <div class="row">
            <div class="myui-header_bd clearfix">
                <div class="myui-header__logo" style="padding-top: 5px;">
                    <a class="" href="../home.html">
                        <img class="img-responsive hidden-xs" src="../images/logo.png" style="width:100px;height:50px" />
                        <img class="img-responsive visible-xs" src="../images/logo.png"  style="width:80px;height:40px" />
                    </a>
                </div>

                <ul class="myui-header__menu" id="myui-menu">
                    <li class="menu_header"><a href="https://kodi.tv/download">download</a></li>
                    <li class="menu_header"><a href="?path=media">kodimedia</a></li>
                    <li class="menu_header"><a href="?path=userdata">userdata</a></li>
                    <li class="menu_header"><a href="?path=videodb">videodb</a></li>
                    <li class="menu_header"><a href="?path=build">mybuild</a></li>
                    <li class="menu_header"><a href="?path=wizard">wizard</a></li>
                    <li class="menu_header"><a href="?path=netflix.skin">netflix.skin</a></li>
                    <li class="menu_header"><a href="?path=game">game</a></li>
                </ul>
            </div>

        </div>
    </div>
    </div>
</header>



  <div class="container">
    <div class="row">
        <div class="myui-panel myui-panel-bg clearfix">
            <div class="myui-panel-box clearfix" id="movielist">

            </div>
        </div>
    </div>
  </div>



  <div class="myui-foot clearfix">
    <div class="container min">
        <div class="row">
            <div class="col-pd text-center masked">
                <p class="margin-0">本站為程式開發測試之用，資料蒐集於網際網路，版權歸官方所有 Powered by PKJ Studio 2022</p>
            </div>
        </div>
    </div>
</div>




<script>
    var urlParams;
    (window.onpopstate = function () {
      var match,
        pl     = /\+/g,  // Regex for replacing addition symbol with a space
        search = /([^&=]+)=?([^&]*)/g,
        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
        query  = window.location.search.substring(1);

      urlParams = {};
      while (match = search.exec(query))
        urlParams[decode(match[1])] = decode(match[2]);
    })();

	const collection = document.getElementsByClassName("menu_header");
	for (let i = 0; i < collection.length; i++) {
		if ( collection[i].innerHTML.includes(urlParams["path"]) ){
			collection[i].classList.add("active");
		}
	}
    

    (async () => {
      var url = 'https://api.github.com/repos/pkj99/demo/contents/kodi/' + urlParams["path"];
      const response = await fetch(url);
      const data = await response.json();
      let htmlString = '<br><br><ul>';
      let dirString = '';

      for (let file of data) {
        var link = "https://pkj99.github.io/demo/" + file.path;
        if (file.name != "index.html") {
          htmlString += '<li class="col-lg-1 col-md-1 col-sm-1 col-xs-1">';
          if (file.type == "dir") {
            var newURL = window.location.protocol +  window.location.host + "/" + window.location.pathname + window.location.search + file.name;
            htmlString += `<h4 class=""><a href="${newURL}">${file.name}</a></h4>`;
          } else {
            htmlString += '<h4 class=""><a href="'+link+'">'+file.name+'</a></h4>';
            }
          htmlString += '</li>';
        }
      }
      htmlString += '</ul>';
      document.getElementById("movielist").innerHTML = htmlString + dirString;
    })()

</script>

</body>
</html>



